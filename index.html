<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NASA // GLOBAL HAZARD & IMPACT MONITOR</title>
    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
    <style>
        :root {
            --nasa-yellow: #ffcc00;
            --nasa-white: #ffffff;
            --safe-green: #90ee90;
            --deep-space: #0a0a0a;
        }

        body { margin: 0; background: var(--deep-space); font-family: 'Inter', sans-serif; overflow: hidden; color: white; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; filter: saturate(0.2) brightness(0.8); }

        /* NASA HUD Elements */
        .hud-frame {
            position: absolute; z-index: 10; width: 100%; height: 100%;
            pointer-events: none; border: 2px solid rgba(255, 255, 255, 0.1);
            box-sizing: border-box;
        }

        .ui-card {
            position: absolute; background: rgba(255, 255, 255, 0.95);
            padding: 25px; border-radius: 4px; pointer-events: auto;
            color: #1a1a1a; box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            border-top: 6px solid var(--nasa-yellow);
        }

        #threat-watch { top: 40px; left: 40px; width: 350px; }
        #orbital-stats { bottom: 40px; right: 40px; width: 300px; text-align: right; border-top: none; border-bottom: 6px solid var(--safe-green); }

        .glitch-num { font-family: 'Courier New', monospace; font-weight: bold; color: #d32f2f; }
        .scanning-line {
            position: absolute; width: 100%; height: 4px;
            background: linear-gradient(to right, transparent, var(--nasa-yellow), transparent);
            top: 0; animation: scanMove 6s infinite linear; opacity: 0.5;
        }

        @keyframes scanMove { from { top: 0%; } to { top: 100%; } }

        .hazard-ping {
            width: 20px; height: 20px; background: rgba(255, 204, 0, 0.5);
            border: 2px solid var(--nasa-yellow); border-radius: 50%;
            position: absolute; animation: ping 2s infinite;
        }

        @keyframes ping { 
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }
    </style>
</head>
<body>

    <div class="hud-frame">
        <div class="scanning-line"></div>
        
        <div id="threat-watch" class="ui-card">
            <div style="letter-spacing: 4px; font-weight: 900; color: #000;">NASA // JET PROPULSION LAB</div>
            <p style="font-size: 0.7rem; margin: 5px 0 20px 0; color: #666;">PLANETARY DEFENSE COORDINATION OFFICE</p>
            
            <div style="font-size: 0.9rem; margin-bottom: 10px;">
                <b>ATMOSPHERIC ENTRY ALERTS:</b> <span class="glitch-num" id="alert-count">03</span>
            </div>
            
            <div style="background: #fdf6e3; padding: 15px; border: 1px solid #eee; font-size: 0.8rem;">
                <div style="color: #856404;"><b>âš  MOORE'S CRITERIA MET</b></div>
                Scanning for Near-Earth Objects (NEOs)...<br>
                Current Trajectory: <span style="color: green;">SECURE</span>
            </div>
        </div>

        <div id="orbital-stats" class="ui-card">
            <div style="font-size: 1.5rem; font-weight: bold; color: #000;" id="timer">00:00:00</div>
            <div style="font-size: 0.7rem; color: #888;">MISSION ELAPSED TIME</div>
            <hr style="margin: 15px 0; opacity: 0.1;">
            <div style="font-family: monospace; font-size: 0.9rem;">
                GEO_SYNC: <span style="color: #2e7d32;">LOCKED</span><br>
                DEBRIS_COUNT: 24,190<br>
                <span style="color: var(--nasa-yellow)">QE_STATUS: MISSION READY</span>
            </div>
        </div>
    </div>

    <div id="map"></div>

    <script>
        // Use a "Dark Matter" map style for NASA's aesthetic
        const map = new maplibregl.Map({
            container: 'map',
            style: 'https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json',
            center: [-95.3698, 29.7604], // Starts over NASA Johnson Space Center, Houston
            zoom: 3
        });

        map.on('load', () => {
            // Locate the user's "Ground Station"
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((pos) => {
                    const { latitude, longitude } = pos.coords;
                    map.flyTo({ center: [longitude, latitude], zoom: 6, speed: 0.8 });
                    
                    // Add a custom Hazard Marker at user location
                    const el = document.createElement('div');
                    el.className = 'hazard-ping';
                    new maplibregl.Marker(el).setLngLat([longitude, latitude]).addTo(map);
                });
            }
        });

        // Live Clock
        setInterval(() => {
            document.getElementById('timer').innerText = new Date().toLocaleTimeString();
        }, 1000);
    </script>
</body>
</html>
